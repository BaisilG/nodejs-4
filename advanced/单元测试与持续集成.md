<!--
$theme: gaia
template: gaia
-->


Node.js进阶
单元测试与持续集成<p style="text-align:right;font-size:28px;margin-right:50px;color:#cFc;">:star: by calidion</p>
===
---
为什么要单元测试？
===
1. 保证代码的可运行
2. 保证代码按预期运行
3. 保证软件质量
4. 提震开发者的自信心

---
单元测试的类型
===
单元测试主要有两个类型
1. TDD（Test Driven Development）
TDD就是测试驱动开发，.
TDD关注的是功能方面的正确性。

2. BDD（Behavior Driven Development）
BDD就是行为驱动开发，.
BDD关注的是行为方面的正确性。

TDD与BDD通常是比较难以区分的
原因是他们的差别不容易被发现

---
主要差别
===

| 项目  | TDD | BDD |
| :---: | :---: | :---: |
| 立足点 | 开发者 | 客户/用户 |
| 使用的词汇 | Test case, Assersion, assert等 | Example, Expectation, should等 |
| 优势 | 容易编写 | 容易看懂 |

也就是BDD从词汇上看更加容易理解，但是实际上并没有太大的差别。

---
TDD vs BDD 的实际代码差别比较
===
1. TDD
```
suite('Array', function() {
  setup(function() {
    // ...
  });

  suite('#indexOf()', function() {
    test('should return -1 when not present', function() {
      assert.equal(-1, [1,2,3].indexOf(4));
    });
  });
});
```
---
2. BDD

```
  describe('Array', function() {
    before(function() {
      // ...
    });
    describe('#indexOf()', function() {
        it('should not throw an error', function() {
          (function() {
            [1,2,3].indexOf(4);
          }).should.not.throw();
        });
        it('should return -1', function() {
          [1,2,3].indexOf(4).should.equal(-1);
        });
    });
  });
```
---
常见的Nodejs测试框架
===
1. mocha
使用最广泛的测试框架
2. jasmine
偏向于前端的测试框架
3. ava
一个比较前卫的框架，采用了一些新的语言特性
4. tape
一个比较有特点的框架

---
mocha框架介绍
===



